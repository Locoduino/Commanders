<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="DoxyPress 1.2.10"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Commanders: DccCommanderNMRAClass Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxypress.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by DoxyPress -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Commanders
   </div>
   <div id="projectbrief">Arduino buttons/bus library</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by DoxyPress 1.2.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classDccCommanderNMRAClass.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classDccCommanderNMRAClass-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">DccCommanderNMRAClass Class Reference</div>  </div>
  <div class="clear-floats"></div>
</div><!--header-->
<div class="contents">

<p><code>#include &quot;<a class="el" href="DccCommanderNMRA_8hpp_source.html">DccCommanderNMRA.hpp</a>&quot;</code></p>
<div class="dynheader">
Inheritance diagram for DccCommanderNMRAClass:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classDccCommanderNMRAClass.png" usemap="#DccCommanderNMRAClass_map" alt=""/>
  <map id="DccCommanderNMRAClass_map" name="DccCommanderNMRAClass_map">
<area href="classCommander.html" alt="Commander" shape="rect" coords="0,0,170,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7da40c5975a00cdad2fcfd19f107e0b8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDccCommanderNMRAClass.html#a7da40c5975a00cdad2fcfd19f107e0b8">DccCommanderNMRAClass</a> ()</td></tr>
<tr class="separator:a7da40c5975a00cdad2fcfd19f107e0b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7758c14133a827339331aa7f70ac5175"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDccCommanderNMRAClass.html#a7758c14133a827339331aa7f70ac5175">beginByPin</a> (int inManufacturerId, int inVersionId, int interruptNumber, boolean inInterruptMonitor = false, boolean inRocoMode = false)</td></tr>
<tr class="separator:a7758c14133a827339331aa7f70ac5175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae740c5a54b42bb3bec7e45a9dd04591e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDccCommanderNMRAClass.html#ae740c5a54b42bb3bec7e45a9dd04591e">RaiseEventWhen</a> (boolean inRaiseEventOnActivation, int inRaiseEventDebounceDelay = 200)</td></tr>
<tr class="separator:ae740c5a54b42bb3bec7e45a9dd04591e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a579682ec596a73d6ccfb1772ebef6807"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDccCommanderNMRAClass.html#a579682ec596a73d6ccfb1772ebef6807">PriorityLoop</a> ()</td></tr>
<tr class="separator:a579682ec596a73d6ccfb1772ebef6807"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10bee0ffb66cc7e605bb2d9979fc0c3c"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDccCommanderNMRAClass.html#a10bee0ffb66cc7e605bb2d9979fc0c3c">loop</a> ()</td></tr>
<tr class="separator:a10bee0ffb66cc7e605bb2d9979fc0c3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4203d9095001834557bfaa9918141d1"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDccCommanderNMRAClass.html#ad4203d9095001834557bfaa9918141d1">GetLastDccId</a> ()</td></tr>
<tr class="separator:ad4203d9095001834557bfaa9918141d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53ab9d386d00ff2b934d4f666a8f9199"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDccCommanderNMRAClass.html#a53ab9d386d00ff2b934d4f666a8f9199">GetRocoMode</a> ()</td></tr>
<tr class="separator:a53ab9d386d00ff2b934d4f666a8f9199"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa8be1589214d0a2cc32de0539470506"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDccCommanderNMRAClass.html#afa8be1589214d0a2cc32de0539470506">printCommander</a> ()</td></tr>
<tr class="separator:afa8be1589214d0a2cc32de0539470506"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a65cb16ed9e41bc2374453a0ab44b88ad"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDccCommanderNMRAClass.html#a65cb16ed9e41bc2374453a0ab44b88ad">SetAccessoryDecoderPacketHandler</a> (DccAccDecoderPacket func)</td></tr>
<tr class="separator:a65cb16ed9e41bc2374453a0ab44b88ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9944bb0e45e5181b02699c2709ba685c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDccCommanderNMRAClass.html#a9944bb0e45e5181b02699c2709ba685c">DccAccessoryDecoderPacket</a> (int address, boolean activate, uint8_t data)</td></tr>
<tr class="separator:a9944bb0e45e5181b02699c2709ba685c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4aecbf9be897e2de159685475803c7a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDccCommanderNMRAClass.html#af4aecbf9be897e2de159685475803c7a">CheckLastReception</a> (uint16_t inBoardAddr, uint8_t inOutputPair, uint8_t inDirection, uint8_t inOutputPower)</td></tr>
<tr class="separator:af4aecbf9be897e2de159685475803c7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc74468ee5d07d990f83aea7e6cc1846"><td class="memItemLeft" align="right" valign="top">static DccCommanderNMRAClass &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDccCommanderNMRAClass.html#adc74468ee5d07d990f83aea7e6cc1846">GetCurrent</a> ()</td></tr>
<tr class="separator:adc74468ee5d07d990f83aea7e6cc1846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93da0d928a2ca2ddcdd0603c528ff7e2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDccCommanderNMRAClass.html#a93da0d928a2ca2ddcdd0603c528ff7e2">printEvent</a> (unsigned long inId, <a class="el" href="Events_8h.html#a36239a7eea6194f04e73e80d7419490c">COMMANDERS_EVENT_TYPE</a> inEventType, int inEventData)</td></tr>
<tr class="separator:a93da0d928a2ca2ddcdd0603c528ff7e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a221842ad05e71683df7273b0e4c02b68"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a221842ad05e71683df7273b0e4c02b68"></a>
static <a class="el" href="classNmraDcc.html">NmraDcc</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Dcc</b></td></tr>
<tr class="separator:a221842ad05e71683df7273b0e4c02b68"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This commanders receive accessory packets from DCC controller, and convert it in <a class="el" href="classCommanders.html">Commanders</a> events. The event id is a compressed version of dcc id and dcc accessory id.</p>
<p>Text from NMRA standard definition (<a href="https://www.nmra.org/sites/default/files/s-9.2.1_2012_07.pdf">https://www.nmra.org/sites/default/files/s-9.2.1_2012_07.pdf</a> , paragraph 420):</p>
<blockquote class="doxtable">
<p>The format for packets intended for Accessory Digital Decoders is: </p><pre class="fragment">    {preamble} 0 10AAAAAA 0 1AAACDDD 0 EEEEEEEE 1
</pre><p> Accessory Digital Decoders can be designed to control momentary or constant-on devices, the duration of time each output is active being controlled by configuration variables CVs #515 through 518. Bit 3 of the second byte "C" is used to activate or deactivate the addressed device. (Note if the duration the device is intended to be on is less than or equal the set duration, no deactivation is necessary.) Since most devices are paired, the convention is that bit "0" of the second byte is used to distinguish between which of a pair of outputs the accessory decoder is activating or deactivating. Bits 1 and 2 of byte two are used to indicate which of 4 pairs of outputs the packet is controlling. The most significant bits of the 9-bit address are bits 4-6 of the second data byte. By convention these bits (bits 4-6 of the second data byte) are in ones complement.</p>
</blockquote>
<p>When an accessory is activated through my MS2, these packets are sent: </p><pre class="fragment">id / data / 1
id / data / 1
id / data / 1
id / data / 0
</pre><p>One an Ecos, only the '1' packets are sent, out of the standard... </p><pre class="fragment">id / data / 1
id / data / 1
id / data / 1
</pre><p>The last flag is to activate for a while (three times at 1 !) and then deactivate the motor ! DccCommander will react only on the first event to avoid double events. By default the '0' packet is used to raise an event, but for an Ecos or a '1' only Dcc central, use <a class="el" href="classDccCommanderNMRAClass.html#ae740c5a54b42bb3bec7e45a9dd04591e">RaiseEventWhen()</a> function with first argument to true.</p>
<p>In the <a class="el" href="classCommanders.html">Commanders</a> interpretation of a DCC packet, id is given by 'A' bits, data from the 'D' bits, and the activate flag by the 'C' bit. The id is not the number you can see on a MS2, and on most DCC controllers. There is a small computation between id and data to obtain the real MS2 accessory number : real_id (1 to 320) and real_data (0 or 1 for right or left). It works on all known controllers, except on Multimaus...</p>
<p>The translated id and the activation flag are then translated into an unsigned long to be used as a <a class="el" href="classCommanders.html">Commanders</a> id. The formula is </p><pre class="fragment">real_data * 10000 + real_id   .
</pre><p> DCCINT is the macro used to build the unsigned long, DCCID the one to use to get the real id number from this long int, and DCCACTIVATION the other to get the real_data.</p>
<p>Events thrown:</p>
<table class="doxtable">
<tr>
<th>reason </th><th>id </th><th>type </th><th>data  </th></tr>
<tr>
<td>data = 0 </td><td>accessory id </td><td><a class="el" href="Events_8h.html#a36239a7eea6194f04e73e80d7419490caebdb45ee96bd05e90e9e633c114e9cba">COMMANDERS_EVENT_MOVE</a> </td><td><a class="el" href="Events_8h.html#a347ec2e7ad5bc98b641a887ce34cc2baa93b501afc3ae6c0a02d25b8bd1473930">COMMANDERS_MOVE_RIGHT</a> </td></tr>
<tr>
<td>data = 1 </td><td>accessory id </td><td><a class="el" href="Events_8h.html#a36239a7eea6194f04e73e80d7419490caebdb45ee96bd05e90e9e633c114e9cba">COMMANDERS_EVENT_MOVE</a> </td><td><a class="el" href="Events_8h.html#a347ec2e7ad5bc98b641a887ce34cc2baa196b887b79ca8df5b10e94318d32df7e">COMMANDERS_MOVE_LEFT</a> </td></tr>
</table>
<p>The NMRA version of the decoder handles the 'Roco mode'. On some Roco controllers, the first board of four accessories is numbered 1, instead of 0 for all the other manufacturers. This gives a shift of 4 to the accessories number... To avoid this shift, set the RocoMode flag to true in <a class="el" href="classDccCommanderNMRAClass.html#a7758c14133a827339331aa7f70ac5175">beginByPin()</a> function. The default is false, of course. </p>

<p class="definition">Definition at line <a class="el" href="DccCommanderNMRA_8hpp_source.html#l00085">85</a> of file <a class="el" href="DccCommanderNMRA_8hpp_source.html">DccCommanderNMRA.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7da40c5975a00cdad2fcfd19f107e0b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DccCommanderNMRAClass::DccCommanderNMRAClass </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Default constructor. </p>

<p class="definition">Definition at line <a class="el" href="DccCommanderNMRA_8hpp_source.html#l00099">99</a> of file <a class="el" href="DccCommanderNMRA_8hpp_source.html">DccCommanderNMRA.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a7758c14133a827339331aa7f70ac5175"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DccCommanderNMRAClass::beginByPin </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inManufacturerId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inVersionId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>interruptNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>inInterruptMonitor</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>inRocoMode</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the instance. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inManufacturerId</td><td>Manufacturer ID of this decoder. Can be 0 in common case... </td></tr>
    <tr><td class="paramname">inVersionId</td><td>Manufacturer version number for this decoder. Can be 0 in common case... </td></tr>
    <tr><td class="paramname">interruptPinNumber</td><td>Interrupt pin number used by DCC_Decoder. The interrupt is raised when a signal is detected on the associated pin. </td></tr>
    <tr><td class="paramname">inInterruptMonitor</td><td>If true, the <a class="el" href="classCommanders.html">Commanders</a> status led will blink when DccCommander receive a new accessory packet. Default is false. </td></tr>
    <tr><td class="paramname">inRocoMode</td><td>On some commercial Dcc stations, like those from Roco, the list of boards start at 1, not 0, giving a shift of 4 to the accessory number. To avoid this shift, set this argument to true. the original values can be preserved instead of these converted value. Default is false. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="DccCommanderNMRA_8cpp_source.html#l00117">117</a> of file <a class="el" href="DccCommanderNMRA_8cpp_source.html">DccCommanderNMRA.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="af4aecbf9be897e2de159685475803c7a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DccCommanderNMRAClass::CheckLastReception </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>inBoardAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>inOutputPair</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>inDirection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>inOutputPower</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>For internal use only... </p>

<p class="definition">Definition at line <a class="el" href="DccCommanderNMRA_8cpp_source.html#l00046">46</a> of file <a class="el" href="DccCommanderNMRA_8cpp_source.html">DccCommanderNMRA.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9944bb0e45e5181b02699c2709ba685c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void DccCommanderNMRAClass::DccAccessoryDecoderPacket </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>activate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Decode the packet data, and raise a <a class="el" href="classCommander.html">Commander</a> event. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>raw address of the decoder, directly got from the DCC packet. </td></tr>
    <tr><td class="paramname">activate</td><td>flag from the DCC packet. True means activate the accessory motor. </td></tr>
    <tr><td class="paramname">data</td><td>additional data, adding bits to decoder accessory, and including the number of the accessory. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adc74468ee5d07d990f83aea7e6cc1846"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static DccCommanderNMRAClass&amp; DccCommanderNMRAClass::GetCurrent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the current instance of <a class="el" href="classDccCommanderClass.html">DccCommanderClass</a> </p><dl class="section remark"><dt>Remarks</dt><dd>This is an internal function. </dd></dl>

<p class="definition">Definition at line <a class="el" href="DccCommanderNMRA_8hpp_source.html#l00145">145</a> of file <a class="el" href="DccCommanderNMRA_8hpp_source.html">DccCommanderNMRA.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad4203d9095001834557bfaa9918141d1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long DccCommanderNMRAClass::GetLastDccId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets the last DCC id received. </p>

<p class="definition">Definition at line <a class="el" href="DccCommanderNMRA_8hpp_source.html#l00134">134</a> of file <a class="el" href="DccCommanderNMRA_8hpp_source.html">DccCommanderNMRA.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a53ab9d386d00ff2b934d4f666a8f9199"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool DccCommanderNMRAClass::GetRocoMode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets the Roco mode flag. </p>

<p class="definition">Definition at line <a class="el" href="DccCommanderNMRA_8hpp_source.html#l00136">136</a> of file <a class="el" href="DccCommanderNMRA_8hpp_source.html">DccCommanderNMRA.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a10bee0ffb66cc7e605bb2d9979fc0c3c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long DccCommanderNMRAClass::loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Main loop function. </p>

<p>Reimplemented from <a class="el" href="classCommander.html#ad071adf2b8c272269394c2c66bf46f00">Commander</a>.</p>

<p class="definition">Definition at line <a class="el" href="DccCommanderNMRA_8cpp_source.html#l00156">156</a> of file <a class="el" href="DccCommanderNMRA_8cpp_source.html">DccCommanderNMRA.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="afa8be1589214d0a2cc32de0539470506"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DccCommanderNMRAClass::printCommander </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print this commander on the console. </p><dl class="section remark"><dt>Remarks</dt><dd>Only available if <a class="el" href="Commanders_8h.html#a903f43d89a21cb3955b4fac654f6f8e8">COMMANDERS_PRINT_COMMANDERS</a> is defined. </dd></dl>

<p class="definition">Definition at line <a class="el" href="DccCommanderNMRA_8cpp_source.html#l00230">230</a> of file <a class="el" href="DccCommanderNMRA_8cpp_source.html">DccCommanderNMRA.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a93da0d928a2ca2ddcdd0603c528ff7e2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DccCommanderNMRAClass::printEvent </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>inId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Events_8h.html#a36239a7eea6194f04e73e80d7419490c">COMMANDERS_EVENT_TYPE</a>&#160;</td>
          <td class="paramname"><em>inEventType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inEventData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Print the given event on the console. </p><dl class="section remark"><dt>Remarks</dt><dd>Only available if <a class="el" href="Commanders_8h.html#a1fdf52a0fdf8778a4472686eaa278b15">COMMANDERS_DEBUG_MODE</a> is defined. </dd></dl>

<p class="definition">Definition at line <a class="el" href="DccCommanderNMRA_8cpp_source.html#l00179">179</a> of file <a class="el" href="DccCommanderNMRA_8cpp_source.html">DccCommanderNMRA.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a579682ec596a73d6ccfb1772ebef6807"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DccCommanderNMRAClass::PriorityLoop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Priority loop function. Just a new call to the loop function. By this way, the DCC commander loop is sure to be called two or more times when other commanders are only called once ! </p>

<p>Reimplemented from <a class="el" href="classCommander.html#ade3914b5c62cd08a4e97050bc5314734">Commander</a>.</p>

<p class="definition">Definition at line <a class="el" href="DccCommanderNMRA_8cpp_source.html#l00151">151</a> of file <a class="el" href="DccCommanderNMRA_8cpp_source.html">DccCommanderNMRA.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae740c5a54b42bb3bec7e45a9dd04591e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DccCommanderNMRAClass::RaiseEventWhen </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>inRaiseEventOnActivation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inRaiseEventDebounceDelay</em> = <code>200</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defines on which DCC packet the <a class="el" href="classCommanders.html">Commanders</a> event should be raised. By default, an event is raised when the deactivation packet is received. After the reception on the 'event' packet, there is no other reception on the accessory during a given delay, 200ms by default. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inRaiseEventOnActivation</td><td>if true, the event will be raised only at reception of a deactivation packet. </td></tr>
    <tr><td class="paramname">When</td><td>a 'event' packet has been received, no other event will be raised on this accessory during this delay. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="DccCommanderNMRA_8cpp_source.html#l00145">145</a> of file <a class="el" href="DccCommanderNMRA_8cpp_source.html">DccCommanderNMRA.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a65cb16ed9e41bc2374453a0ab44b88ad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void DccCommanderNMRAClass::SetAccessoryDecoderPacketHandler </td>
          <td>(</td>
          <td class="paramtype">DccAccDecoderPacket&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the callback function which will be called when an accessory packet will be decoded. Set it to NULL or 0 to inactivate this function. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>D:/Mes documents/Trusty/Arduino/Libraries/Commanders/src/<a class="el" href="DccCommanderNMRA_8hpp_source.html">DccCommanderNMRA.hpp</a></li>
<li>D:/Mes documents/Trusty/Arduino/Libraries/Commanders/src/<a class="el" href="DccCommanderNMRA_8cpp_source.html">DccCommanderNMRA.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- Generated by DoxyPress 1.2.10 -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classDccCommanderNMRAClass.html">DccCommanderNMRAClass</a></li>
    <li class="footer">Generated on mer. juin 19 2019 16:15:59 for Commanders &nbsp; by
    <a href="http://www.copperspice.com/documentation-doxypress.html">
    <img class="footer" src="doxypress.png" alt="DoxyPress"/></a> 1.2.10 </li>
  </ul>
</div>
</body>
</html>
